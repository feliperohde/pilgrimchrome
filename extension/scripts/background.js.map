{"version":3,"sources":["source/_scripts/node_modules/browser-pack/_prelude.js","source/_scripts/source/_modules/pilgrim/pilgrim.js","source/_scripts/source/_scripts/background.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;ICAqB,O;AACnB,mBAAY,OAAZ,EAAqB;AAAA;;AACnB,YAAQ,GAAR,CAAY,gBAAZ;;AAEA,QAAI,WAAW;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAS,EATI;AAUb,uBAAiB,KAVJ;;AAYb,cAAQ,4BAZK;;AAeb;;AAEA,uBAAiB,+CAjBJ,EAiBqD;;;;;;;AAWlE,kBAAY,yCA5BC,CA4ByC;;;;;;;;;;;;;;;;;AA5BzC,KAAf;;AAiDA,SAAK,OAAL,GAAe,OAAO,MAAP,CAAc,EAAd,EAAkB,QAAlB,EAA4B,OAA5B,CAAf;;AAEA,SAAK,YAAL,CAAkB,UAAU,IAAV,EAAgB;AAChC,WAAK,OAAL,CAAa,eAAb,GAA+B,IAA/B;;AAEA,WAAK,GAAL;AAED,KALiB,CAKhB,IALgB,CAKX,IALW,CAAlB;;AAOA;;AAEA,SAAK,MAAL,GAAe,KAAK,aAApB;AAED;;;;oCAEgB;;AAEf,aAAO,OAAP,CAAe,SAAf,CAAyB,WAAzB,CAAqC,UAAS,OAAT,EAAkB,MAAlB,EAA0B,YAA1B,EAAwC;;AAE3E,gBAAO,OAAP;AACE,eAAK,WAAL;;AAEE,iBAAK,SAAL,CAAe,QAAQ,IAAR,CAAa,IAA5B;;AAEF;;AAGA;AACE,oBAAQ,GAAR,CAAY,YAAZ;AATJ;AAaD,OAfD;AAiBD;;;0BAEM;AACL,cAAQ,GAAR,CAAY,KAAK,OAAL,CAAa,OAAzB;;AAEA,cAAQ,GAAR,CAAY,yDAAZ;AACD;;;+BAEW,M,EAAQ,I,EAAM,Q,EAAU;AAChC,aAAO,OAAP,CAAe,GAAf,CAAmB,EAAC,OAAO,MAAR,EAAgB,QAAQ,IAAxB,EAAnB,EAAkD,UAAS,MAAT,EAAiB;AAC/D,YAAG,QAAH,EAAa;AACT,mBAAS,OAAO,KAAhB;AACH;AACJ,OAJD;AAKH;;;mCAEe,M,EAAQ,Q,EAAU;AAC9B,aAAO,OAAP,CAAe,MAAf,CAAsB,EAAC,OAAO,MAAR,EAAtB,EAAuC,UAAS,UAAT,EAAqB;AACxD,YAAG,QAAH,EAAa;AACT,mBAAS,UAAT;AACH;AACJ,OAJD;AAKH;;;iCAEa,Q,EAAU;;AAEtB,WAAK,cAAL,CAAoB,KAAK,OAAL,CAAa,MAAjC,EAAyC,UAAU,IAAV,EAAgB;;AAEvD,aAAK,OAAL,CAAa,OAAb,GAAuB,IAAvB;;AAEA,YAAG,QAAH,EAAa;AACX,mBAAS,IAAT;AACD;AAEF,OARwC,CAQvC,IARuC,CAQlC,IARkC,CAAzC;AAUD;;;;;AAED;8BACW,I,EAAM;;AAEf,cAAQ,GAAR,CAAY,IAAZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AAED;;;;;AAGD;8BACW,K,EAAO;;AAEhB;AACA,UAAG,CAAC,MAAM,MAAV,EAAkB;;AAElB,WAAK,IAAI,IAAI,MAAM,MAAN,GAAe,CAA5B,EAA+B,KAAK,CAApC,EAAuC,GAAvC,EAA4C;AAC1C,iBAAS,MAAM,CAAN,CAAT;AACD;AAEF;;;;;;kBAjKkB,O;;;;;;ACIrB;;;;;;AACA;;AAEA,a,CAPA;AACA;;AAEA;;;AAOA,IAAI,UAAU,uBAAd;;AAEA,QAAQ,MAAR","file":"background.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export default class Pilgrim {\n  constructor(options) {\n    console.log('Pilgrim module');\n\n    var defaults = {\n\n      // cookiesRequests: [\n      //   {method: \"getCookies\", args: {url: 'http://pilgrim.itelios.net', name: 'Language'}},\n      //   {method: \"getCookies\", args: {url: 'http://pilgrim.itelios.net', name: 'pilcook_prj'}},\n      //   {method: \"getCookies\", args: {url: 'http://pilgrim.itelios.net', name: 'pilgrimAuthCookie'}},\n      //   {method: \"getCookies\", args: {url: 'http://pilgrim.itelios.net', name: '.ASPXROLES'}}\n      // ],\n\n      cookies: [],\n      isSyncedCookies: false,\n\n      domain: 'http://pilgrim.itelios.net',\n\n\n      // tasks: {},\n\n      getGroupTaskUri: 'http://pilgrim.itelios.net/Task/getGroupTasks', /*\n\n      post\n      headers:\n      query: ?prjId=3995797f-9a8a-4d36-8f01-079c6edb4f24\n      {\n          \n      }\n       \n\n       */\n      createTask: 'http://pilgrim.itelios.net/Task/Create/' /*\n\n      post\n      headers:\n      data:\n      {\n        ProjectID: '95e09e2b-a45b-4113-8d92-79abfb881441' // interno,\n        cbPrjModeID: 1,\n        IsChecked: 0,\n        TaskGroupID: 'c9ebb70c-2789-4ca6-9df9-1b6bd80dcc49' // tarefas nao faturadas\n        TimeSheetDate: 22/05/2017,\n        Name: 'nome da task',\n        taskStartDate: '23/05/2017 00:00:00',\n        taskEndDate: '24/05/2017 00:00:00',\n        PlannedWork: 20\n      } \n\n      */\n\n    };\n\n    this.options = Object.assign({}, defaults, options);\n\n    this._syncCookies(function (data) {\n      this.options.isSyncedCookies = true;\n\n      this._up();\n\n    }.bind(this));\n\n    //mÃ©todos expostos\n\n    this.listem =  this._listemEvents;\n    \n  };\n\n  _listemEvents () {\n\n    chrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {\n\n      switch(request) {\n        case 'syncTasks':\n          \n          this.postTasks(request.args.list);\n\n        break;\n\n\n        default:\n          console.log('Invalid...');\n      }\n\n\n    });\n\n  };\n\n  _up () {\n    console.log(this.options.cookies);\n\n    console.log('pronto para sincronizar e fazer qqr coisa no pilgrim...');\n  };\n\n  _getCookie (domain, name, callback) {\n      chrome.cookies.get({\"url\": domain, \"name\": name}, function(cookie) {\n          if(callback) {\n              callback(cookie.value);\n          }\n      });\n  };\n\n  _getAllCookies (domain, callback) {\n      chrome.cookies.getAll({\"url\": domain}, function(allCookies) {\n          if(callback) {\n              callback(allCookies);\n          }\n      });\n  };\n\n  _syncCookies (callback) {\n\n    this._getAllCookies(this.options.domain, function (data) {\n\n      this.options.cookies = data;\n\n      if(callback) {\n        callback(data);\n      }\n\n    }.bind(this));   \n\n  };\n\n  //simula um post no pilgrim para cadastrar uma task inexistente\n  _postTask (task) {\n\n    console.log(task);\n\n    // $.ajax({\n    //   type: \"POST\",\n    //   url: url,\n    //   data: data,\n    //   success: success,\n    //   error: error,\n    //   dataType: dataType\n    // });\n\n\n    // function success () {\n\n    // }\n\n    // function error () {\n\n    // }\n\n  };\n\n\n  //pega uma lista de tarefas e itera mandando para o metodo postTask\n  postTasks (tasks) {\n\n    //tratar o erro aqui\n    if(!tasks.length) return;\n\n    for (var i = tasks.length - 1; i >= 0; i--) {\n      postTask(tasks[i]);\n    };\n\n  };\n\n}","// Main javascript entry point\n// Should handle bootstrapping/starting application\n\n//import $ from 'jquery';\nimport Pilgrim from '../_modules/pilgrim/pilgrim';\n// import css from '../_styles/css_map_all.json';\n\n'use strict';\n\n\nvar pilgrim = new Pilgrim();\n\npilgrim.listem();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvX21vZHVsZXMvcGlsZ3JpbS9waWxncmltLmpzIiwic291cmNlL19zY3JpcHRzL2JhY2tncm91bmQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lDQXFCLE87QUFDbkIsbUJBQVksT0FBWixFQUFxQjtBQUFBOztBQUNuQixZQUFRLEdBQVIsQ0FBWSxnQkFBWjs7QUFFQSxRQUFJLFdBQVc7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQVMsRUFUSTtBQVViLHVCQUFpQixLQVZKOztBQVliLGNBQVEsNEJBWks7O0FBZWI7O0FBRUEsdUJBQWlCLCtDQWpCSixFQWlCcUQ7Ozs7Ozs7QUFXbEUsa0JBQVkseUNBNUJDLENBNEJ5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE1QnpDLEtBQWY7O0FBaURBLFNBQUssT0FBTCxHQUFlLE9BQU8sTUFBUCxDQUFjLEVBQWQsRUFBa0IsUUFBbEIsRUFBNEIsT0FBNUIsQ0FBZjs7QUFFQSxTQUFLLFlBQUwsQ0FBa0IsVUFBVSxJQUFWLEVBQWdCO0FBQ2hDLFdBQUssT0FBTCxDQUFhLGVBQWIsR0FBK0IsSUFBL0I7O0FBRUEsV0FBSyxHQUFMO0FBRUQsS0FMaUIsQ0FLaEIsSUFMZ0IsQ0FLWCxJQUxXLENBQWxCOztBQU9BOztBQUVBLFNBQUssTUFBTCxHQUFlLEtBQUssYUFBcEI7QUFFRDs7OztvQ0FFZ0I7O0FBRWYsYUFBTyxPQUFQLENBQWUsU0FBZixDQUF5QixXQUF6QixDQUFxQyxVQUFTLE9BQVQsRUFBa0IsTUFBbEIsRUFBMEIsWUFBMUIsRUFBd0M7O0FBRTNFLGdCQUFPLE9BQVA7QUFDRSxlQUFLLFdBQUw7O0FBRUUsaUJBQUssU0FBTCxDQUFlLFFBQVEsSUFBUixDQUFhLElBQTVCOztBQUVGOztBQUdBO0FBQ0Usb0JBQVEsR0FBUixDQUFZLFlBQVo7QUFUSjtBQWFELE9BZkQ7QUFpQkQ7OzswQkFFTTtBQUNMLGNBQVEsR0FBUixDQUFZLEtBQUssT0FBTCxDQUFhLE9BQXpCOztBQUVBLGNBQVEsR0FBUixDQUFZLHlEQUFaO0FBQ0Q7OzsrQkFFVyxNLEVBQVEsSSxFQUFNLFEsRUFBVTtBQUNoQyxhQUFPLE9BQVAsQ0FBZSxHQUFmLENBQW1CLEVBQUMsT0FBTyxNQUFSLEVBQWdCLFFBQVEsSUFBeEIsRUFBbkIsRUFBa0QsVUFBUyxNQUFULEVBQWlCO0FBQy9ELFlBQUcsUUFBSCxFQUFhO0FBQ1QsbUJBQVMsT0FBTyxLQUFoQjtBQUNIO0FBQ0osT0FKRDtBQUtIOzs7bUNBRWUsTSxFQUFRLFEsRUFBVTtBQUM5QixhQUFPLE9BQVAsQ0FBZSxNQUFmLENBQXNCLEVBQUMsT0FBTyxNQUFSLEVBQXRCLEVBQXVDLFVBQVMsVUFBVCxFQUFxQjtBQUN4RCxZQUFHLFFBQUgsRUFBYTtBQUNULG1CQUFTLFVBQVQ7QUFDSDtBQUNKLE9BSkQ7QUFLSDs7O2lDQUVhLFEsRUFBVTs7QUFFdEIsV0FBSyxjQUFMLENBQW9CLEtBQUssT0FBTCxDQUFhLE1BQWpDLEVBQXlDLFVBQVUsSUFBVixFQUFnQjs7QUFFdkQsYUFBSyxPQUFMLENBQWEsT0FBYixHQUF1QixJQUF2Qjs7QUFFQSxZQUFHLFFBQUgsRUFBYTtBQUNYLG1CQUFTLElBQVQ7QUFDRDtBQUVGLE9BUndDLENBUXZDLElBUnVDLENBUWxDLElBUmtDLENBQXpDO0FBVUQ7Ozs7O0FBRUQ7OEJBQ1csSSxFQUFNOztBQUVmLGNBQVEsR0FBUixDQUFZLElBQVo7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFFRDs7Ozs7QUFHRDs4QkFDVyxLLEVBQU87O0FBRWhCO0FBQ0EsVUFBRyxDQUFDLE1BQU0sTUFBVixFQUFrQjs7QUFFbEIsV0FBSyxJQUFJLElBQUksTUFBTSxNQUFOLEdBQWUsQ0FBNUIsRUFBK0IsS0FBSyxDQUFwQyxFQUF1QyxHQUF2QyxFQUE0QztBQUMxQyxpQkFBUyxNQUFNLENBQU4sQ0FBVDtBQUNEO0FBRUY7Ozs7OztrQkFqS2tCLE87Ozs7OztBQ0lyQjs7Ozs7O0FBQ0E7O0FBRUEsYSxDQVBBO0FBQ0E7O0FBRUE7OztBQU9BLElBQUksVUFBVSx1QkFBZDs7QUFFQSxRQUFRLE1BQVIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlsZ3JpbSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zb2xlLmxvZygnUGlsZ3JpbSBtb2R1bGUnKTtcblxuICAgIHZhciBkZWZhdWx0cyA9IHtcblxuICAgICAgLy8gY29va2llc1JlcXVlc3RzOiBbXG4gICAgICAvLyAgIHttZXRob2Q6IFwiZ2V0Q29va2llc1wiLCBhcmdzOiB7dXJsOiAnaHR0cDovL3BpbGdyaW0uaXRlbGlvcy5uZXQnLCBuYW1lOiAnTGFuZ3VhZ2UnfX0sXG4gICAgICAvLyAgIHttZXRob2Q6IFwiZ2V0Q29va2llc1wiLCBhcmdzOiB7dXJsOiAnaHR0cDovL3BpbGdyaW0uaXRlbGlvcy5uZXQnLCBuYW1lOiAncGlsY29va19wcmonfX0sXG4gICAgICAvLyAgIHttZXRob2Q6IFwiZ2V0Q29va2llc1wiLCBhcmdzOiB7dXJsOiAnaHR0cDovL3BpbGdyaW0uaXRlbGlvcy5uZXQnLCBuYW1lOiAncGlsZ3JpbUF1dGhDb29raWUnfX0sXG4gICAgICAvLyAgIHttZXRob2Q6IFwiZ2V0Q29va2llc1wiLCBhcmdzOiB7dXJsOiAnaHR0cDovL3BpbGdyaW0uaXRlbGlvcy5uZXQnLCBuYW1lOiAnLkFTUFhST0xFUyd9fVxuICAgICAgLy8gXSxcblxuICAgICAgY29va2llczogW10sXG4gICAgICBpc1N5bmNlZENvb2tpZXM6IGZhbHNlLFxuXG4gICAgICBkb21haW46ICdodHRwOi8vcGlsZ3JpbS5pdGVsaW9zLm5ldCcsXG5cblxuICAgICAgLy8gdGFza3M6IHt9LFxuXG4gICAgICBnZXRHcm91cFRhc2tVcmk6ICdodHRwOi8vcGlsZ3JpbS5pdGVsaW9zLm5ldC9UYXNrL2dldEdyb3VwVGFza3MnLCAvKlxuXG4gICAgICBwb3N0XG4gICAgICBoZWFkZXJzOlxuICAgICAgcXVlcnk6ID9wcmpJZD0zOTk1Nzk3Zi05YThhLTRkMzYtOGYwMS0wNzljNmVkYjRmMjRcbiAgICAgIHtcbiAgICAgICAgICBcbiAgICAgIH1cbiAgICAgICBcblxuICAgICAgICovXG4gICAgICBjcmVhdGVUYXNrOiAnaHR0cDovL3BpbGdyaW0uaXRlbGlvcy5uZXQvVGFzay9DcmVhdGUvJyAvKlxuXG4gICAgICBwb3N0XG4gICAgICBoZWFkZXJzOlxuICAgICAgZGF0YTpcbiAgICAgIHtcbiAgICAgICAgUHJvamVjdElEOiAnOTVlMDllMmItYTQ1Yi00MTEzLThkOTItNzlhYmZiODgxNDQxJyAvLyBpbnRlcm5vLFxuICAgICAgICBjYlByak1vZGVJRDogMSxcbiAgICAgICAgSXNDaGVja2VkOiAwLFxuICAgICAgICBUYXNrR3JvdXBJRDogJ2M5ZWJiNzBjLTI3ODktNGNhNi05ZGY5LTFiNmJkODBkY2M0OScgLy8gdGFyZWZhcyBuYW8gZmF0dXJhZGFzXG4gICAgICAgIFRpbWVTaGVldERhdGU6IDIyLzA1LzIwMTcsXG4gICAgICAgIE5hbWU6ICdub21lIGRhIHRhc2snLFxuICAgICAgICB0YXNrU3RhcnREYXRlOiAnMjMvMDUvMjAxNyAwMDowMDowMCcsXG4gICAgICAgIHRhc2tFbmREYXRlOiAnMjQvMDUvMjAxNyAwMDowMDowMCcsXG4gICAgICAgIFBsYW5uZWRXb3JrOiAyMFxuICAgICAgfSBcblxuICAgICAgKi9cblxuICAgIH07XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLl9zeW5jQ29va2llcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdGhpcy5vcHRpb25zLmlzU3luY2VkQ29va2llcyA9IHRydWU7XG5cbiAgICAgIHRoaXMuX3VwKCk7XG5cbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgLy9tw6l0b2RvcyBleHBvc3Rvc1xuXG4gICAgdGhpcy5saXN0ZW0gPSAgdGhpcy5fbGlzdGVtRXZlbnRzO1xuICAgIFxuICB9O1xuXG4gIF9saXN0ZW1FdmVudHMgKCkge1xuXG4gICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG5cbiAgICAgIHN3aXRjaChyZXF1ZXN0KSB7XG4gICAgICAgIGNhc2UgJ3N5bmNUYXNrcyc6XG4gICAgICAgICAgXG4gICAgICAgICAgdGhpcy5wb3N0VGFza3MocmVxdWVzdC5hcmdzLmxpc3QpO1xuXG4gICAgICAgIGJyZWFrO1xuXG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZC4uLicpO1xuICAgICAgfVxuXG5cbiAgICB9KTtcblxuICB9O1xuXG4gIF91cCAoKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5vcHRpb25zLmNvb2tpZXMpO1xuXG4gICAgY29uc29sZS5sb2coJ3Byb250byBwYXJhIHNpbmNyb25pemFyIGUgZmF6ZXIgcXFyIGNvaXNhIG5vIHBpbGdyaW0uLi4nKTtcbiAgfTtcblxuICBfZ2V0Q29va2llIChkb21haW4sIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICBjaHJvbWUuY29va2llcy5nZXQoe1widXJsXCI6IGRvbWFpbiwgXCJuYW1lXCI6IG5hbWV9LCBmdW5jdGlvbihjb29raWUpIHtcbiAgICAgICAgICBpZihjYWxsYmFjaykge1xuICAgICAgICAgICAgICBjYWxsYmFjayhjb29raWUudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIF9nZXRBbGxDb29raWVzIChkb21haW4sIGNhbGxiYWNrKSB7XG4gICAgICBjaHJvbWUuY29va2llcy5nZXRBbGwoe1widXJsXCI6IGRvbWFpbn0sIGZ1bmN0aW9uKGFsbENvb2tpZXMpIHtcbiAgICAgICAgICBpZihjYWxsYmFjaykge1xuICAgICAgICAgICAgICBjYWxsYmFjayhhbGxDb29raWVzKTtcbiAgICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICBfc3luY0Nvb2tpZXMgKGNhbGxiYWNrKSB7XG5cbiAgICB0aGlzLl9nZXRBbGxDb29raWVzKHRoaXMub3B0aW9ucy5kb21haW4sIGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICAgIHRoaXMub3B0aW9ucy5jb29raWVzID0gZGF0YTtcblxuICAgICAgaWYoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgICB9XG5cbiAgICB9LmJpbmQodGhpcykpOyAgIFxuXG4gIH07XG5cbiAgLy9zaW11bGEgdW0gcG9zdCBubyBwaWxncmltIHBhcmEgY2FkYXN0cmFyIHVtYSB0YXNrIGluZXhpc3RlbnRlXG4gIF9wb3N0VGFzayAodGFzaykge1xuXG4gICAgY29uc29sZS5sb2codGFzayk7XG5cbiAgICAvLyAkLmFqYXgoe1xuICAgIC8vICAgdHlwZTogXCJQT1NUXCIsXG4gICAgLy8gICB1cmw6IHVybCxcbiAgICAvLyAgIGRhdGE6IGRhdGEsXG4gICAgLy8gICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgIC8vICAgZXJyb3I6IGVycm9yLFxuICAgIC8vICAgZGF0YVR5cGU6IGRhdGFUeXBlXG4gICAgLy8gfSk7XG5cblxuICAgIC8vIGZ1bmN0aW9uIHN1Y2Nlc3MgKCkge1xuXG4gICAgLy8gfVxuXG4gICAgLy8gZnVuY3Rpb24gZXJyb3IgKCkge1xuXG4gICAgLy8gfVxuXG4gIH07XG5cblxuICAvL3BlZ2EgdW1hIGxpc3RhIGRlIHRhcmVmYXMgZSBpdGVyYSBtYW5kYW5kbyBwYXJhIG8gbWV0b2RvIHBvc3RUYXNrXG4gIHBvc3RUYXNrcyAodGFza3MpIHtcblxuICAgIC8vdHJhdGFyIG8gZXJybyBhcXVpXG4gICAgaWYoIXRhc2tzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgZm9yICh2YXIgaSA9IHRhc2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBwb3N0VGFzayh0YXNrc1tpXSk7XG4gICAgfTtcblxuICB9O1xuXG59IiwiLy8gTWFpbiBqYXZhc2NyaXB0IGVudHJ5IHBvaW50XG4vLyBTaG91bGQgaGFuZGxlIGJvb3RzdHJhcHBpbmcvc3RhcnRpbmcgYXBwbGljYXRpb25cblxuLy9pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IFBpbGdyaW0gZnJvbSAnLi4vX21vZHVsZXMvcGlsZ3JpbS9waWxncmltJztcbi8vIGltcG9ydCBjc3MgZnJvbSAnLi4vX3N0eWxlcy9jc3NfbWFwX2FsbC5qc29uJztcblxuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBwaWxncmltID0gbmV3IFBpbGdyaW0oKTtcblxucGlsZ3JpbS5saXN0ZW0oKTsiXX0="}